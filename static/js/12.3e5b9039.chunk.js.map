{"version":3,"sources":["components/Breadcrumbs.js","components/HeaderBreadcrumbs.js","components/title/TitleCard.js","constants/index.js","constants/tags.js","../node_modules/@mui/material/styles/cssUtils.js","../node_modules/@mui/material/Skeleton/skeletonClasses.js","../node_modules/@mui/material/Skeleton/Skeleton.js","components/title/TitleCardSkeleton.js","sections/title/TitleUpdateForm.js","sections/title/TitleDrawer.js","sections/title/FilterDrawer.js","utils/urlParamsHelper.js","pages/title/Titles.js"],"names":["Breadcrumbs","links","activeLast","other","currentLink","length","name","listDefault","map","link","LinkItem","listActiveLast","Typography","variant","sx","maxWidth","overflow","whiteSpace","color","textOverflow","separator","Box","component","width","height","borderRadius","bgcolor","href","icon","Link","RouterLink","to","lineHeight","display","alignItems","mr","HeaderBreadcrumbs","action","heading","moreLink","mb","flexGrow","gutterBottom","flexShrink","mt","isString","target","rel","noWrap","TitleCard","title","src","coverArt","alt","en","ratio","OverlayStyle","CaptionStyle","PATH_WIBU","one","_id","line","altTitle","opacity","label","type","size","theme","position","top","spacing","left","styled","backgroundImage","palette","grey","alpha","CardActionArea","bottom","justifyContent","common","white","padding","TAG_OPTION","require","TYPE_OPTION","STATUS_OPTION","GENRE_OPTION","module","exports","getUnit","input","String","match","toUnitless","parseFloat","getSkeletonUtilityClass","slot","generateUtilityClass","generateUtilityClasses","_t","_t2","_t3","_t4","_excluded","pulseKeyframe","keyframes","waveKeyframe","SkeletonRoot","overridesResolver","props","styles","ownerState","root","animation","hasChildren","withChildren","fitContent","heightAuto","radiusUnit","shape","radiusValue","_extends","backgroundColor","text","primary","mode","marginTop","marginBottom","transformOrigin","transform","Math","round","content","visibility","css","hover","Skeleton","React","inProps","ref","useThemeProps","className","style","_objectWithoutPropertiesLoose","Boolean","children","classes","slots","composeClasses","useUtilityClasses","_jsx","as","clsx","TitleCardSkeleton","Card","Image","Chip","TitleUpdateForm","onClose","setTitle","enqueueSnackbar","useSnackbar","defaultValues","useMemo","vi","ja","genres","tags","author","artist","status","urls","raw","zennomi","isMyProject","review","score","methods","useForm","reset","control","watch","setValue","handleSubmit","getValues","isSubmitting","formState","useEffect","onSubmit","a","console","log","updateTitle","error","message","Stack","Grid","container","item","xs","render","field","Autocomplete","multiple","freeSolo","onChange","event","newValue","options","option","renderTags","value","getTagProps","index","key","renderInput","params","TextField","Button","find","l","site","placeholder","Number","InputLabelProps","shrink","InputProps","endAdornment","InputAdornment","multiline","maxRows","LoadingButton","loading","TitleDrawer","isDesktop","useResponsive","Drawer","open","anchor","PaperProps","sm","py","Container","Tooltip","onClick","Iconify","Alert","SORT_OPTION","FilterDrawer","isOpen","setNewParams","useSearchParams","searchParams","currentFilter","urlParams","entries","result","paramsToObject","split","excludedGenres","excludedTags","query","isLisensed","sortBy","FilterSchema","Yup","resolver","yupResolver","filter","join","Titles","themeStretch","useSettings","isMountedRef","useIsMountedRef","user","useAuth","useState","titles","setTitles","total","setTotal","isFilterOpen","setIsFilterOpen","page","setSearchParams","getTitles","useCallback","axios","get","limit","data","current","results","totalPages","newParams","Object","keys","forEach","Page","ToggleButtonGroup","exclusive","_type","fullWidth","ToggleButton","toUpperCase","startIcon","endIcon","Array","fill","md","xl","isStaff","IconButton","right","Pagination","my","count","severity"],"mappings":"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,EAAegB,YAAO,MAAPA,EAAc,gBAAGL,EAAH,EAAGA,MAAH,MAAgB,CAC/CE,IAAK,EACL9C,MAAO,OACPC,OAAQ,OACR4C,SAAU,WACVK,gBAAgB,2BAAD,OAA6BN,EAAMO,QAAQC,KAAK,KAAhD,eAA2DC,YAAMT,EAAMO,QAAQC,KAAK,KAAM,GAA1F,aAGblB,EAAee,YAAOK,IAAPL,EAAuB,gBAAGL,EAAH,EAAGA,MAAH,MAAgB,CAExDW,OAAQ,EACRvD,MAAO,OACPU,QAAS,OACTC,WAAY,SACZkC,SAAU,WACVW,eAAgB,gBAChB7D,MAAOiD,EAAMO,QAAQM,OAAOC,MAC5BC,QAASf,EAAMG,QAAQ,Q,kCCnD3B,wIAAO,IAAMa,EAAaC,EAAQ,MAErBC,EAAc,CAAC,QAAS,QAAS,SAEjCC,EAAgB,CAAC,SAAU,UAAW,YAAa,aAEnDC,EAAe,CAC1B,SACA,QACA,YACA,SACA,YACA,QACA,QACA,UACA,gBACA,QACA,SACA,aACA,SACA,QACA,UACA,eACA,SACA,QACA,UACA,gBACA,UACA,cACA,SACA,SACA,WACA,SACA,YACA,UACA,aACA,gBACA,OACA,SACA,eACA,UACA,OACA,OACA,Y,mBC3CFC,EAAOC,QAAU,CACb,iBACA,qBACA,mBACA,mBACA,mBACA,UACA,gBACA,wBACA,mBACA,aACA,QACA,4BACA,qBACA,UACA,cACA,mBACA,kBACA,wBACA,kBACA,cACA,iBACA,qBACA,mBACA,+BACA,QACA,4BACA,wCACA,gCACA,WACA,SACA,kBACA,wBACA,mBACA,4BACA,wBACA,eACA,sBACA,OACA,UACA,gBACA,eACA,QACA,YACA,iBACA,aACA,YACA,eACA,kBACA,cACA,SACA,WACA,yBACA,WACA,SACA,aACA,UACA,yBACA,+BACA,UACA,UACA,kBACA,aACA,oBACA,sBACA,oBACA,aACA,YACA,sBACA,mBACA,qBACA,UACA,eACA,sBACA,WACA,8BACA,8BACA,QACA,2BACA,cACA,WACA,sCACA,oBACA,gBACA,kBACA,oCACA,mBACA,kBACA,MACA,WACA,uBACA,OACA,SACA,YACA,oBACA,WACA,UACA,sBACA,YACA,eACA,QACA,uCACA,UACA,iBACA,iBACA,WACA,aACA,aACA,SACA,UACA,SACA,gBACA,6BACA,gBACA,SACA,mBACA,yBACA,yBACA,WACA,UACA,oBACA,SACA,MACA,cACA,gBACA,wBACA,WACA,UACA,QACA,QACA,iBACA,qBACA,kBACA,WACA,oBACA,mCACA,gBACA,cACA,OACA,0CACA,WACA,cACA,cACA,iBACA,OACA,eACA,SACA,gCACA,kCACA,iCACA,mBACA,iBACA,UACA,WACA,SACA,wBACA,YACA,yBACA,iBACA,aACA,SACA,YACA,MACA,sBACA,WACA,MACA,WACA,qBACA,UACA,YACA,YACA,QACA,mBACA,QACA,sBACA,oCACA,SACA,+BACA,gBACA,OACA,iBACA,eACA,8BACA,YACA,mBACA,iBACA,WACA,oBACA,iBACA,yBACA,oBACA,WACA,iBACA,aACA,QACA,qBACA,gBACA,UACA,oBACA,iBACA,qBACA,OACA,WACA,wBACA,SACA,kBACA,cACA,oBACA,SACA,gBACA,mBACA,aACA,mBACA,UACA,sBACA,eACA,YACA,gBACA,wBACA,YACA,YACA,QACA,MACA,iBACA,WACA,iBACA,mBACA,mBACA,SACA,mBACA,UACA,WACA,qBACA,UACA,OACA,kBACA,qCACA,0BACA,iBACA,eACA,qBACA,sBACA,4BACA,UACA,oBACA,kBACA,iBACA,gBACA,SACA,mBACA,WACA,SACA,uBACA,oBACA,aACA,yBACA,wBACA,mBACA,UACA,qBACA,aACA,QACA,sBACA,SACA,aACA,eACA,WACA,aACA,uBACA,sBACA,qBACA,cACA,gBACA,4BACA,cACA,eACA,wBACA,YACA,QACA,OACA,gBACA,iBACA,WACA,gBACA,aACA,QACA,QACA,YACA,gBACA,qBACA,gCACA,SACA,qBACA,aACA,eACA,eACA,OACA,SACA,OACA,oBACA,8BACA,YACA,QACA,2BACA,cACA,SACA,iBACA,WACA,cACA,mBACA,kB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","file":"static/js/12.3e5b9039.chunk.js","sourcesContent":["import PropTypes from 'prop-types';\nimport { Link as RouterLink } from 'react-router-dom';\n// @mui\nimport { Box, Link, Typography, Breadcrumbs as MUIBreadcrumbs } from '@mui/material';\n\n// ----------------------------------------------------------------------\n\nBreadcrumbs.propTypes = {\n  activeLast: PropTypes.bool,\n  links: PropTypes.array.isRequired,\n};\n\nexport default function Breadcrumbs({ links, activeLast = false, ...other }) {\n  const currentLink = links[links.length - 1].name;\n\n  const listDefault = links.map((link) => <LinkItem key={link.name} link={link} />);\n\n  const listActiveLast = links.map((link) => (\n    <div key={link.name}>\n      {link.name !== currentLink ? (\n        <LinkItem link={link} />\n      ) : (\n        <Typography\n          variant=\"body2\"\n          sx={{\n            maxWidth: 260,\n            overflow: 'hidden',\n            whiteSpace: 'nowrap',\n            color: 'text.disabled',\n            textOverflow: 'ellipsis',\n          }}\n        >\n          {currentLink}\n        </Typography>\n      )}\n    </div>\n  ));\n\n  return (\n    <MUIBreadcrumbs\n      separator={<Box component=\"span\" sx={{ width: 4, height: 4, borderRadius: '50%', bgcolor: 'text.disabled' }} />}\n      {...other}\n    >\n      {activeLast ? listDefault : listActiveLast}\n    </MUIBreadcrumbs>\n  );\n}\n\n// ----------------------------------------------------------------------\n\nLinkItem.propTypes = {\n  link: PropTypes.shape({\n    href: PropTypes.string,\n    icon: PropTypes.any,\n    name: PropTypes.string,\n  }),\n};\n\nfunction LinkItem({ link }) {\n  const { href, name, icon } = link;\n  return (\n    <Link\n      key={name}\n      variant=\"body2\"\n      component={RouterLink}\n      to={href || '#'}\n      sx={{\n        lineHeight: 2,\n        display: 'flex',\n        alignItems: 'center',\n        color: 'text.primary',\n        '& > div': { display: 'inherit' },\n      }}\n    >\n      {icon && <Box sx={{ mr: 1, '& svg': { width: 20, height: 20 } }}>{icon}</Box>}\n      {name}\n    </Link>\n  );\n}\n","import isString from 'lodash/isString';\nimport PropTypes from 'prop-types';\n// @mui\nimport { Box, Typography, Link } from '@mui/material';\n//\nimport Breadcrumbs from './Breadcrumbs';\n\n// ----------------------------------------------------------------------\n\nHeaderBreadcrumbs.propTypes = {\n  links: PropTypes.array,\n  action: PropTypes.node,\n  heading: PropTypes.string.isRequired,\n  moreLink: PropTypes.oneOfType([PropTypes.string, PropTypes.array]),\n  sx: PropTypes.object,\n};\n\nexport default function HeaderBreadcrumbs({ links, action, heading, moreLink = '' || [], sx, ...other }) {\n  return (\n    <Box sx={{ mb: 5, ...sx }}>\n      <Box sx={{ display: 'flex', alignItems: 'center' }}>\n        <Box sx={{ flexGrow: 1 }}>\n          <Typography variant=\"h4\" gutterBottom>\n            {heading}\n          </Typography>\n          <Breadcrumbs links={links} {...other} />\n        </Box>\n\n        {action && <Box sx={{ flexShrink: 0 }}>{action}</Box>}\n      </Box>\n\n      <Box sx={{ mt: 2 }}>\n        {isString(moreLink) ? (\n          <Link href={moreLink} target=\"_blank\" rel=\"noopener\" variant=\"body2\">\n            {moreLink}\n          </Link>\n        ) : (\n          moreLink.map((href) => (\n            <Link\n              noWrap\n              key={href}\n              href={href}\n              variant=\"body2\"\n              target=\"_blank\"\n              rel=\"noopener\"\n              sx={{ display: 'table' }}\n            >\n              {href}\n            </Link>\n          ))\n        )}\n      </Box>\n    </Box>\n  );\n}\n","import { useState } from 'react';\r\nimport { Link as RouterLink, useNavigate } from 'react-router-dom';\r\n// @mui\r\nimport { styled, alpha } from '@mui/material/styles';\r\n\r\nimport { Typography, Card, CardActionArea, Chip,  } from '@mui/material';\r\n// components\r\nimport Image from '../Image';\r\nimport TextMaxLine from '../TextMaxLine';\r\n// paths\r\nimport { PATH_WIBU } from '../../routes/paths';\r\n\r\nexport default function TitleCard({ title }) {\r\n    return (\r\n        <Card>\r\n            <Image src={title.coverArt[0]} alt={title.title?.en} ratio='4/6' />\r\n            <OverlayStyle />\r\n            <CaptionStyle component={RouterLink} to={`${PATH_WIBU.title.one}/${title._id}`}>\r\n                <TextMaxLine line={2}>\r\n                    <Typography width=\"100%\" variant=\"subtitle1\" component=\"span\">{title.title?.en}</Typography>\r\n                    {\r\n                        title?.altTitle &&\r\n                        <Typography width=\"100%\" variant=\"body2\" sx={{ opacity: 0.72 }} component=\"span\">\r\n                            {` - ${title?.altTitle}`}\r\n                        </Typography>\r\n                    }\r\n                </TextMaxLine>\r\n            </CaptionStyle>\r\n            <Chip label={title.type} color=\"primary\" size=\"small\" sx={theme => ({ position: 'absolute', top: theme.spacing(0.5), left: theme.spacing(0.5), opacity: 0.9 })} />\r\n        </Card>\r\n    )\r\n}\r\n\r\n\r\nconst OverlayStyle = styled('div')(({ theme }) => ({\r\n    top: 0,\r\n    width: '100%',\r\n    height: '100%',\r\n    position: 'absolute',\r\n    backgroundImage: `linear-gradient(to top, ${theme.palette.grey[900]} 0%,${alpha(theme.palette.grey[900], 0)} 50%)`,\r\n}));\r\n\r\nconst CaptionStyle = styled(CardActionArea)(({ theme }) => ({\r\n    // ...cssStyles().bgBlur({ blur: 2, color: theme.palette.grey[900] }),\r\n    bottom: 0,\r\n    width: '100%',\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    position: 'absolute',\r\n    justifyContent: 'space-between',\r\n    color: theme.palette.common.white,\r\n    padding: theme.spacing(1),\r\n}));","export const TAG_OPTION = require(\"./tags\");\r\n\r\nexport const TYPE_OPTION = ['novel', 'manga', 'anime'];\r\n\r\nexport const STATUS_OPTION = ['hiatus', 'ongoing', 'completed', 'cancelled'];\r\n\r\nexport const GENRE_OPTION = [\r\n  'action',\r\n  'adult',\r\n  'adventure',\r\n  'comedy',\r\n  'doujinshi',\r\n  'drama',\r\n  'ecchi',\r\n  'fantasy',\r\n  'gender bender',\r\n  'harem',\r\n  'hentai',\r\n  'historical',\r\n  'horror',\r\n  'josei',\r\n  'lolicon',\r\n  'martial arts',\r\n  'mature',\r\n  'mecha',\r\n  'mystery',\r\n  'psychological',\r\n  'romance',\r\n  'school life',\r\n  'sci-fi',\r\n  'seinen',\r\n  'shotacon',\r\n  'shoujo',\r\n  'shoujo ai',\r\n  'shounen',\r\n  'shounen ai',\r\n  'slice of life',\r\n  'smut',\r\n  'sports',\r\n  'supernatural',\r\n  'tragedy',\r\n  'yaoi',\r\n  'yuri',\r\n  'oneshot'\r\n]","module.exports = [\r\n    \"pretend lovers\",\r\n    \"strong female lead\",\r\n    \"adapted to anime\",\r\n    \"childhood friend\",\r\n    \"strong male lead\",\r\n    \"age gap\",\r\n    \"love triangle\",\r\n    \"collection of stories\",\r\n    \"character growth\",\r\n    \"full color\",\r\n    \"magic\",\r\n    \"glasses-wearing male lead\",\r\n    \"dead family member\",\r\n    \"student\",\r\n    \"big breasts\",\r\n    \"possessive lover\",\r\n    \"special ability\",\r\n    \"beautiful female lead\",\r\n    \"unrequited love\",\r\n    \"high school\",\r\n    \"cross-dressing\",\r\n    \"handsome male lead\",\r\n    \"misunderstanding\",\r\n    \"student-teacher relationship\",\r\n    \"demon\",\r\n    \"older female younger male\",\r\n    \"appearance different from personality\",\r\n    \"male lead falls in love first\",\r\n    \"tsundere\",\r\n    \"incest\",\r\n    \"secret identity\",\r\n    \"friends become lovers\",\r\n    \"based on a novel\",\r\n    \"older male younger female\",\r\n    \"past plays a big role\",\r\n    \"slow romance\",\r\n    \"high school student\",\r\n    \"twin\",\r\n    \"revenge\",\r\n    \"live-in lover\",\r\n    \"borderline h\",\r\n    \"japan\",\r\n    \"web comic\",\r\n    \"female fighter\",\r\n    \"friendship\",\r\n    \"time skip\",\r\n    \"21st century\",\r\n    \"smart male lead\",\r\n    \"tragic past\",\r\n    \"murder\",\r\n    \"jealousy\",\r\n    \"older uke younger seme\",\r\n    \"bullying\",\r\n    \"orphan\",\r\n    \"first love\",\r\n    \"royalty\",\r\n    \"animal characteristics\",\r\n    \"student-student relationship\",\r\n    \"monster\",\r\n    \"vampire\",\r\n    \"young male lead\",\r\n    \"delinquent\",\r\n    \"smart female lead\",\r\n    \"unexpressed feeling\",\r\n    \"popular male lead\",\r\n    \"flashbacks\",\r\n    \"bishounen\",\r\n    \"love at first sight\",\r\n    \"romantic subplot\",\r\n    \"award-winning work\",\r\n    \"amnesia\",\r\n    \"cohabitation\",\r\n    \"adapted to drama cd\",\r\n    \"betrayal\",\r\n    \"human-nonhuman relationship\",\r\n    \"master-servant relationship\",\r\n    \"mafia\",\r\n    \"hard-working protagonist\",\r\n    \"hidden past\",\r\n    \"fellatio\",\r\n    \"important non-romantic relationship\",\r\n    \"european ambiance\",\r\n    \"reincarnation\",\r\n    \"love confession\",\r\n    \"male demographic with female lead\",\r\n    \"quirky character\",\r\n    \"brother complex\",\r\n    \"war\",\r\n    \"neighbor\",\r\n    \"rushed ending / axed\",\r\n    \"club\",\r\n    \"family\",\r\n    \"swordsman\",\r\n    \"arranged marriage\",\r\n    \"violence\",\r\n    \"webtoon\",\r\n    \"unexpected feelings\",\r\n    \"blackmail\",\r\n    \"love polygon\",\r\n    \"ghost\",\r\n    \"appearance different from actual age\",\r\n    \"reunion\",\r\n    \"transformation\",\r\n    \"weak to strong\",\r\n    \"princess\",\r\n    \"kidnapping\",\r\n    \"loneliness\",\r\n    \"spirit\",\r\n    \"brother\",\r\n    \"prince\",\r\n    \"absent parent\",\r\n    \"senpai-kouhai relationship\",\r\n    \"dark ambience\",\r\n    \"virgin\",\r\n    \"transfer student\",\r\n    \"adapted to live action\",\r\n    \"older seme younger uke\",\r\n    \"assassin\",\r\n    \"playboy\",\r\n    \"opposites attract\",\r\n    \"sadist\",\r\n    \"god\",\r\n    \"time travel\",\r\n    \"reverse harem\",\r\n    \"post-secondary school\",\r\n    \"episodic\",\r\n    \"rivalry\",\r\n    \"angst\",\r\n    \"otaku\",\r\n    \"rich male lead\",\r\n    \"death of loved one\",\r\n    \"student council\",\r\n    \"training\",\r\n    \"caught in the act\",\r\n    \"unrequited love becomes requited\",\r\n    \"office worker\",\r\n    \"dead parent\",\r\n    \"lust\",\r\n    \"character who bullies the one they love\",\r\n    \"teamwork\",\r\n    \"cunnilingus\",\r\n    \"school girl\",\r\n    \"married couple\",\r\n    \"maid\",\r\n    \"stepsiblings\",\r\n    \"genius\",\r\n    \"boss-subordinate relationship\",\r\n    \"female lead falls in love first\",\r\n    \"emotionally strong female lead\",\r\n    \"calm protagonist\",\r\n    \"cool male lead\",\r\n    \"teacher\",\r\n    \"survival\",\r\n    \"doctor\",\r\n    \"multiple protagonists\",\r\n    \"salaryman\",\r\n    \"antihero / antiheroine\",\r\n    \"bickering love\",\r\n    \"insecurity\",\r\n    \"tomboy\",\r\n    \"bodyguard\",\r\n    \"cat\",\r\n    \"outdoor intercourse\",\r\n    \"nobility\",\r\n    \"gun\",\r\n    \"siblings\",\r\n    \"bisexual character\",\r\n    \"prodigy\",\r\n    \"detective\",\r\n    \"childcare\",\r\n    \"curse\",\r\n    \"childhood trauma\",\r\n    \"music\",\r\n    \"secret organization\",\r\n    \"protagonist strong from the start\",\r\n    \"writer\",\r\n    \"transported to another world\",\r\n    \"sadomasochism\",\r\n    \"debt\",\r\n    \"obsessive love\",\r\n    \"best friends\",\r\n    \"glasses-wearing female lead\",\r\n    \"threesome\",\r\n    \"rich female lead\",\r\n    \"childhood love\",\r\n    \"contract\",\r\n    \"young female lead\",\r\n    \"sister complex\",\r\n    \"post-secondary student\",\r\n    \"sword and sorcery\",\r\n    \"military\",\r\n    \"kind male lead\",\r\n    \"dead lover\",\r\n    \"witch\",\r\n    \"clever protagonist\",\r\n    \"small breasts\",\r\n    \"suicide\",\r\n    \"naive female lead\",\r\n    \"weak male lead\",\r\n    \"clumsy protagonist\",\r\n    \"trap\",\r\n    \"coworker\",\r\n    \"androgynous male lead\",\r\n    \"dragon\",\r\n    \"strategic minds\",\r\n    \"child abuse\",\r\n    \"workplace romance\",\r\n    \"acting\",\r\n    \"single parent\",\r\n    \"manly gay couple\",\r\n    \"school boy\",\r\n    \"social hierarchy\",\r\n    \"stalker\",\r\n    \"secret relationship\",\r\n    \"comic artist\",\r\n    \"swordplay\",\r\n    \"couple growth\",\r\n    \"animal transformation\",\r\n    \"foreigner\",\r\n    \"dormitory\",\r\n    \"alien\",\r\n    \"esp\",\r\n    \"younger sister\",\r\n    \"modeling\",\r\n    \"4-koma/yonkoma\",\r\n    \"attempted murder\",\r\n    \"rich protagonist\",\r\n    \"sister\",\r\n    \"lifestyle change\",\r\n    \"yandere\",\r\n    \"politics\",\r\n    \"arrogant male lead\",\r\n    \"pervert\",\r\n    \"food\",\r\n    \"all-boys school\",\r\n    \"collection of inter-linked stories\",\r\n    \"independent female lead\",\r\n    \"subtle romance\",\r\n    \"fast romance\",\r\n    \"personality change\",\r\n    \"inferiority complex\",\r\n    \"strong-willed female lead\",\r\n    \"showbiz\",\r\n    \"split personality\",\r\n    \"younger brother\",\r\n    \"forbidden love\",\r\n    \"coming of age\",\r\n    \"cousin\",\r\n    \"adapted to movie\",\r\n    \"panchira\",\r\n    \"knight\",\r\n    \"innocent female lead\",\r\n    \"loner protagonist\",\r\n    \"prostitute\",\r\n    \"love-hate relationship\",\r\n    \"inexperienced in love\",\r\n    \"all-girls school\",\r\n    \"cosplay\",\r\n    \"talented male lead\",\r\n    \"psychopath\",\r\n    \"angel\",\r\n    \"popular female lead\",\r\n    \"artist\",\r\n    \"conspiracy\",\r\n    \"world travel\",\r\n    \"marriage\",\r\n    \"tournament\",\r\n    \"award-nominated work\",\r\n    \"drunken intercourse\",\r\n    \"university student\",\r\n    \"dead friend\",\r\n    \"game elements\",\r\n    \"misunderstood protagonist\",\r\n    \"stolen kiss\",\r\n    \"undergarment\",\r\n    \"shameless female lead\",\r\n    \"pregnancy\",\r\n    \"korea\",\r\n    \"game\",\r\n    \"part-time job\",\r\n    \"social outcast\",\r\n    \"accident\",\r\n    \"exhibitionism\",\r\n    \"experiment\",\r\n    \"crime\",\r\n    \"dream\",\r\n    \"roommates\",\r\n    \"serial killer\",\r\n    \"school intercourse\",\r\n    \"double / multiple penetration\",\r\n    \"isekai\",\r\n    \"appearance changes\",\r\n    \"first kiss\",\r\n    \"super powers\",\r\n    \"mature child\",\r\n    \"drug\",\r\n    \"fetish\",\r\n    \"gang\",\r\n    \"comedic undertone\",\r\n    \"businessman / businesswoman\",\r\n    \"masochist\",\r\n    \"ninja\",\r\n    \"serioustudious character\",\r\n    \"rich family\",\r\n    \"injury\",\r\n    \"tall male lead\",\r\n    \"werewolf\",\r\n    \"competition\",\r\n    \"female dominance\",\r\n    \"changed by love\",\r\n    \"immortality\",\r\n    \"police officer\",\r\n    \"classmate\",\r\n    \"slave\",\r\n    \"family drama\",\r\n    \"affectionate seme\",\r\n    \"extended flashbacks\",\r\n    \"reincarnated in another world\",\r\n    \"police\",\r\n    \"female demographic with male lead\",\r\n    \"elf\",\r\n    \"idol\",\r\n    \"deception\",\r\n    \"cold male lead\",\r\n    \"perverted female lead\",\r\n    \"stepsibling love\",\r\n    \"sudden appearance\",\r\n    \"scar\",\r\n    \"host/hostess\",\r\n    \"talented female lead\",\r\n    \"demon lord/king\",\r\n    \"love interests who don't get along\",\r\n    \"politics involving royalty\",\r\n    \"armed combat\",\r\n    \"robot\",\r\n    \"torture\",\r\n    \"body swap\",\r\n    \"parental abandonment\",\r\n    \"short male lead\",\r\n    \"older brother\",\r\n    \"samurai\",\r\n    \"hot-blooded male lead\",\r\n    \"emotionally weak female lead\",\r\n    \"swimsuit\",\r\n    \"guilt\",\r\n    \"regret\",\r\n    \"attempted suicide\",\r\n    \"rich kid\",\r\n    \"naive male lead\",\r\n    \"actor\",\r\n    \"bromance\",\r\n    \"cooking\",\r\n    \"ambitious goal\",\r\n    \"zombie\",\r\n    \"middle school\",\r\n    \"guardian relationship\",\r\n    \"chasing after love interest\",\r\n    \"fantasy world\",\r\n    \"future\",\r\n    \"abandoned children\",\r\n    \"travel\",\r\n    \"wish\",\r\n    \"childhood promise\",\r\n    \"older sister\",\r\n    \"manipulation\",\r\n    \"discrimination\",\r\n    \"exorcism\",\r\n    \"brother and sister\",\r\n    \"marriage proposal\",\r\n    \"adapted to game\",\r\n    \"adapted to manga\",\r\n    \"first-time intercourse\",\r\n    \"dense protagonist\",\r\n    \"kuudere\",\r\n    \"second change\",\r\n    \"depression\",\r\n    \"limited lifespan\",\r\n    \"zennomi\",\r\n    \"licensed\",\r\n    \"male protagonist\",\r\n    \"teasing protagonist\"\r\n]","export function isUnitless(value) {\n  return String(parseFloat(value)).length === String(value).length;\n} // Ported from Compass\n// https://github.com/Compass/compass/blob/master/core/stylesheets/compass/typography/_units.scss\n// Emulate the sass function \"unit\"\n\nexport function getUnit(input) {\n  return String(input).match(/[\\d.\\-+]*\\s*(.*)/)[1] || '';\n} // Emulate the sass function \"unitless\"\n\nexport function toUnitless(length) {\n  return parseFloat(length);\n} // Convert any CSS <length> or <percentage> value to any another.\n// From https://github.com/KyleAMathews/convert-css-length\n\nexport function convertLength(baseFontSize) {\n  return (length, toUnit) => {\n    const fromUnit = getUnit(length); // Optimize for cases where `from` and `to` units are accidentally the same.\n\n    if (fromUnit === toUnit) {\n      return length;\n    } // Convert input length to pixels.\n\n\n    let pxLength = toUnitless(length);\n\n    if (fromUnit !== 'px') {\n      if (fromUnit === 'em') {\n        pxLength = toUnitless(length) * toUnitless(baseFontSize);\n      } else if (fromUnit === 'rem') {\n        pxLength = toUnitless(length) * toUnitless(baseFontSize);\n      }\n    } // Convert length in pixels to the output unit\n\n\n    let outputLength = pxLength;\n\n    if (toUnit !== 'px') {\n      if (toUnit === 'em') {\n        outputLength = pxLength / toUnitless(baseFontSize);\n      } else if (toUnit === 'rem') {\n        outputLength = pxLength / toUnitless(baseFontSize);\n      } else {\n        return length;\n      }\n    }\n\n    return parseFloat(outputLength.toFixed(5)) + toUnit;\n  };\n}\nexport function alignProperty({\n  size,\n  grid\n}) {\n  const sizeBelow = size - size % grid;\n  const sizeAbove = sizeBelow + grid;\n  return size - sizeBelow < sizeAbove - size ? sizeBelow : sizeAbove;\n} // fontGrid finds a minimal grid (in rem) for the fontSize values so that the\n// lineHeight falls under a x pixels grid, 4px in the case of Material Design,\n// without changing the relative line height\n\nexport function fontGrid({\n  lineHeight,\n  pixels,\n  htmlFontSize\n}) {\n  return pixels / (lineHeight * htmlFontSize);\n}\n/**\n * generate a responsive version of a given CSS property\n * @example\n * responsiveProperty({\n *   cssProperty: 'fontSize',\n *   min: 15,\n *   max: 20,\n *   unit: 'px',\n *   breakpoints: [300, 600],\n * })\n *\n * // this returns\n *\n * {\n *   fontSize: '15px',\n *   '@media (min-width:300px)': {\n *     fontSize: '17.5px',\n *   },\n *   '@media (min-width:600px)': {\n *     fontSize: '20px',\n *   },\n * }\n * @param {Object} params\n * @param {string} params.cssProperty - The CSS property to be made responsive\n * @param {number} params.min - The smallest value of the CSS property\n * @param {number} params.max - The largest value of the CSS property\n * @param {string} [params.unit] - The unit to be used for the CSS property\n * @param {Array.number} [params.breakpoints]  - An array of breakpoints\n * @param {number} [params.alignStep] - Round scaled value to fall under this grid\n * @returns {Object} responsive styles for {params.cssProperty}\n */\n\nexport function responsiveProperty({\n  cssProperty,\n  min,\n  max,\n  unit = 'rem',\n  breakpoints = [600, 900, 1200],\n  transform = null\n}) {\n  const output = {\n    [cssProperty]: `${min}${unit}`\n  };\n  const factor = (max - min) / breakpoints[breakpoints.length - 1];\n  breakpoints.forEach(breakpoint => {\n    let value = min + factor * breakpoint;\n\n    if (transform !== null) {\n      value = transform(value);\n    }\n\n    output[`@media (min-width:${breakpoint}px)`] = {\n      [cssProperty]: `${Math.round(value * 10000) / 10000}${unit}`\n    };\n  });\n  return output;\n}","import { generateUtilityClass, generateUtilityClasses } from '@mui/base';\nexport function getSkeletonUtilityClass(slot) {\n  return generateUtilityClass('MuiSkeleton', slot);\n}\nconst skeletonClasses = generateUtilityClasses('MuiSkeleton', ['root', 'text', 'rectangular', 'circular', 'pulse', 'wave', 'withChildren', 'fitContent', 'heightAuto']);\nexport default skeletonClasses;","import _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nconst _excluded = [\"animation\", \"className\", \"component\", \"height\", \"style\", \"variant\", \"width\"];\n\nlet _ = t => t,\n    _t,\n    _t2,\n    _t3,\n    _t4;\n\nimport * as React from 'react';\nimport clsx from 'clsx';\nimport PropTypes from 'prop-types';\nimport { keyframes, css } from '@mui/system';\nimport { unstable_composeClasses as composeClasses } from '@mui/base';\nimport { alpha, unstable_getUnit as getUnit, unstable_toUnitless as toUnitless } from '../styles';\nimport styled from '../styles/styled';\nimport useThemeProps from '../styles/useThemeProps';\nimport { getSkeletonUtilityClass } from './skeletonClasses';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\n\nconst useUtilityClasses = ownerState => {\n  const {\n    classes,\n    variant,\n    animation,\n    hasChildren,\n    width,\n    height\n  } = ownerState;\n  const slots = {\n    root: ['root', variant, animation, hasChildren && 'withChildren', hasChildren && !width && 'fitContent', hasChildren && !height && 'heightAuto']\n  };\n  return composeClasses(slots, getSkeletonUtilityClass, classes);\n};\n\nconst pulseKeyframe = keyframes(_t || (_t = _`\n  0% {\n    opacity: 1;\n  }\n\n  50% {\n    opacity: 0.4;\n  }\n\n  100% {\n    opacity: 1;\n  }\n`));\nconst waveKeyframe = keyframes(_t2 || (_t2 = _`\n  0% {\n    transform: translateX(-100%);\n  }\n\n  50% {\n    /* +0.5s of delay between each loop */\n    transform: translateX(100%);\n  }\n\n  100% {\n    transform: translateX(100%);\n  }\n`));\nconst SkeletonRoot = styled('span', {\n  name: 'MuiSkeleton',\n  slot: 'Root',\n  overridesResolver: (props, styles) => {\n    const {\n      ownerState\n    } = props;\n    return [styles.root, styles[ownerState.variant], ownerState.animation !== false && styles[ownerState.animation], ownerState.hasChildren && styles.withChildren, ownerState.hasChildren && !ownerState.width && styles.fitContent, ownerState.hasChildren && !ownerState.height && styles.heightAuto];\n  }\n})(({\n  theme,\n  ownerState\n}) => {\n  const radiusUnit = getUnit(theme.shape.borderRadius) || 'px';\n  const radiusValue = toUnitless(theme.shape.borderRadius);\n  return _extends({\n    display: 'block',\n    // Create a \"on paper\" color with sufficient contrast retaining the color\n    backgroundColor: alpha(theme.palette.text.primary, theme.palette.mode === 'light' ? 0.11 : 0.13),\n    height: '1.2em'\n  }, ownerState.variant === 'text' && {\n    marginTop: 0,\n    marginBottom: 0,\n    height: 'auto',\n    transformOrigin: '0 55%',\n    transform: 'scale(1, 0.60)',\n    borderRadius: `${radiusValue}${radiusUnit}/${Math.round(radiusValue / 0.6 * 10) / 10}${radiusUnit}`,\n    '&:empty:before': {\n      content: '\"\\\\00a0\"'\n    }\n  }, ownerState.variant === 'circular' && {\n    borderRadius: '50%'\n  }, ownerState.hasChildren && {\n    '& > *': {\n      visibility: 'hidden'\n    }\n  }, ownerState.hasChildren && !ownerState.width && {\n    maxWidth: 'fit-content'\n  }, ownerState.hasChildren && !ownerState.height && {\n    height: 'auto'\n  });\n}, ({\n  ownerState\n}) => ownerState.animation === 'pulse' && css(_t3 || (_t3 = _`\n      animation: ${0} 1.5s ease-in-out 0.5s infinite;\n    `), pulseKeyframe), ({\n  ownerState,\n  theme\n}) => ownerState.animation === 'wave' && css(_t4 || (_t4 = _`\n      position: relative;\n      overflow: hidden;\n\n      /* Fix bug in Safari https://bugs.webkit.org/show_bug.cgi?id=68196 */\n      -webkit-mask-image: -webkit-radial-gradient(white, black);\n\n      &::after {\n        animation: ${0} 1.6s linear 0.5s infinite;\n        background: linear-gradient(90deg, transparent, ${0}, transparent);\n        content: '';\n        position: absolute;\n        transform: translateX(-100%); /* Avoid flash during server-side hydration */\n        bottom: 0;\n        left: 0;\n        right: 0;\n        top: 0;\n      }\n    `), waveKeyframe, theme.palette.action.hover));\nconst Skeleton = /*#__PURE__*/React.forwardRef(function Skeleton(inProps, ref) {\n  const props = useThemeProps({\n    props: inProps,\n    name: 'MuiSkeleton'\n  });\n\n  const {\n    animation = 'pulse',\n    className,\n    component = 'span',\n    height,\n    style,\n    variant = 'text',\n    width\n  } = props,\n        other = _objectWithoutPropertiesLoose(props, _excluded);\n\n  const ownerState = _extends({}, props, {\n    animation,\n    component,\n    variant,\n    hasChildren: Boolean(other.children)\n  });\n\n  const classes = useUtilityClasses(ownerState);\n  return /*#__PURE__*/_jsx(SkeletonRoot, _extends({\n    as: component,\n    ref: ref,\n    className: clsx(classes.root, className),\n    ownerState: ownerState\n  }, other, {\n    style: _extends({\n      width,\n      height\n    }, style)\n  }));\n});\nprocess.env.NODE_ENV !== \"production\" ? Skeleton.propTypes\n/* remove-proptypes */\n= {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n\n  /**\n   * The animation.\n   * If `false` the animation effect is disabled.\n   * @default 'pulse'\n   */\n  animation: PropTypes.oneOf(['pulse', 'wave', false]),\n\n  /**\n   * Optional children to infer width and height from.\n   */\n  children: PropTypes.node,\n\n  /**\n   * Override or extend the styles applied to the component.\n   */\n  classes: PropTypes.object,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * The component used for the root node.\n   * Either a string to use a HTML element or a component.\n   */\n  component: PropTypes.elementType,\n\n  /**\n   * Height of the skeleton.\n   * Useful when you don't want to adapt the skeleton to a text element but for instance a card.\n   */\n  height: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n\n  /**\n   * @ignore\n   */\n  style: PropTypes.object,\n\n  /**\n   * The system prop that allows defining system overrides as well as additional CSS styles.\n   */\n  sx: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.func, PropTypes.object, PropTypes.bool])), PropTypes.func, PropTypes.object]),\n\n  /**\n   * The type of content that will be rendered.\n   * @default 'text'\n   */\n  variant: PropTypes\n  /* @typescript-to-proptypes-ignore */\n  .oneOfType([PropTypes.oneOf(['circular', 'rectangular', 'text']), PropTypes.string]),\n\n  /**\n   * Width of the skeleton.\n   * Useful when the skeleton is inside an inline element with no width of its own.\n   */\n  width: PropTypes.oneOfType([PropTypes.number, PropTypes.string])\n} : void 0;\nexport default Skeleton;","import { useState } from 'react';\r\n// @mui\r\nimport { styled, alpha } from '@mui/material/styles';\r\n\r\nimport { Typography, Card, CardActionArea, Chip, Skeleton } from '@mui/material';\r\n// components\r\nimport Image from '../Image';\r\n\r\nexport default function TitleCardSkeleton() {\r\n    return (\r\n        <Card>\r\n            <Image src={null} alt='PlaceHolder' ratio='4/6' />\r\n            <OverlayStyle />\r\n            <CaptionStyle>\r\n                <Typography width=\"100%\" variant=\"subtitle1\" component=\"span\"><Skeleton variant='text' /></Typography>\r\n                <Typography width=\"100%\" variant=\"body2\" sx={{ opacity: 0.72 }} component=\"span\">\r\n                    <Skeleton variant='text' />\r\n                </Typography>\r\n            </CaptionStyle>\r\n            <Chip label={`    `} color=\"primary\" size=\"small\" sx={theme => ({ position: 'absolute', top: theme.spacing(0.5), left: theme.spacing(0.5), opacity: 0.9 })} />\r\n        </Card>\r\n    )\r\n}\r\n\r\nconst OverlayStyle = styled('div')(({ theme }) => ({\r\n    top: 0,\r\n    width: '100%',\r\n    height: '100%',\r\n    position: 'absolute',\r\n    backgroundImage: `linear-gradient(to top, ${theme.palette.grey[900]} 0%,${alpha(theme.palette.grey[900], 0)} 50%)`,\r\n}));\r\n\r\nconst CaptionStyle = styled(CardActionArea)(({ theme }) => ({\r\n    // ...cssStyles().bgBlur({ blur: 2, color: theme.palette.grey[900] }),\r\n    bottom: 0,\r\n    width: '100%',\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    position: 'absolute',\r\n    justifyContent: 'space-between',\r\n    color: theme.palette.common.white,\r\n    padding: theme.spacing(1),\r\n}));","import { useEffect, useMemo } from 'react';\r\n\r\n// components\r\nimport { Link as RouterLink } from 'react-router-dom'\r\nimport { useForm, Controller } from 'react-hook-form';\r\nimport { yupResolver } from '@hookform/resolvers/yup';\r\nimport { useSnackbar } from 'notistack';\r\nimport {\r\n    FormProvider,\r\n    RHFSelect,\r\n    RHFTextField,\r\n} from '../../components/hook-form';\r\n// @mui\r\nimport {\r\n    Stack,\r\n    Button,\r\n    TextField,\r\n    Typography,\r\n    InputAdornment,\r\n    Autocomplete,\r\n    Chip,\r\n    Grid\r\n} from '@mui/material';\r\nimport { LoadingButton } from '@mui/lab';\r\n// utils\r\nimport { updateTitle } from '../../utils/axios';\r\n// routes\r\nimport { TYPE_OPTION, STATUS_OPTION, GENRE_OPTION, TAG_OPTION } from '../../constants';\r\n\r\nexport default function TitleUpdateForm({ title, onClose, setTitle }) {\r\n    const { enqueueSnackbar } = useSnackbar();\r\n\r\n    const defaultValues = useMemo(\r\n        () => ({\r\n            _id: title?._id || '',\r\n            title: {\r\n                en: title?.title.en || '',\r\n                vi: title?.title.vi || '',\r\n                ja: title?.title.ja || ''\r\n            },\r\n            genres: title?.genres || ['romance', 'comedy'],\r\n            tags: title?.tags || [],\r\n            author: title?.author || [],\r\n            artist: title?.artist || [],\r\n            status: title?.status || 'ongoing',\r\n            type: title?.type || 'manga',\r\n            urls: {\r\n                raw: title?.urls.raw || [],\r\n                vi: title?.urls.vi || [],\r\n                en: title?.urls.en || [],\r\n            },\r\n            zennomi: title?.zennomi || {\r\n                isMyProject: false,\r\n                review: \"\"\r\n            },\r\n            score: title?.score || 0\r\n        }),\r\n        [title]\r\n    );\r\n    const methods = useForm({\r\n        defaultValues,\r\n    });\r\n\r\n    const {\r\n        reset,\r\n        watch,\r\n        control,\r\n        setValue,\r\n        handleSubmit,\r\n        getValues,\r\n        formState: { isSubmitting },\r\n    } = methods;\r\n\r\n    useEffect(() => {\r\n        reset(defaultValues);\r\n    }, [title]);\r\n\r\n    const onSubmit = async (title) => {\r\n        try {\r\n            reset();\r\n            console.log(title);\r\n            setTitle(title);\r\n            await updateTitle(title);\r\n            enqueueSnackbar('Update success!');\r\n        } catch (error) {\r\n            console.error(error);\r\n            enqueueSnackbar(error.message);\r\n        }\r\n        onClose();\r\n    };\r\n\r\n    return (\r\n        <FormProvider methods={methods} onSubmit={handleSubmit(onSubmit)}>\r\n            <Stack spacing={2}>\r\n                <Typography variant='h5'>{title?.title.en}</Typography>\r\n                <Grid container spacing={1}>\r\n                    <Grid item xs={6}>\r\n                        <RHFSelect name=\"type\" label=\"Type\">\r\n                            {TYPE_OPTION.map((status) => (\r\n                                <option>{status}</option>\r\n                            ))}\r\n                        </RHFSelect>\r\n                    </Grid>\r\n                    <Grid item xs={6}>\r\n                        <RHFSelect name=\"status\" label=\"Status\">\r\n                            {STATUS_OPTION.map((status) => (\r\n                                <option>{status}</option>\r\n                            ))}\r\n                        </RHFSelect>\r\n                    </Grid>\r\n                </Grid>\r\n                <Controller\r\n                    name=\"genres\"\r\n                    control={control}\r\n                    render={({ field }) => (\r\n                        <Autocomplete\r\n                            {...field}\r\n                            multiple\r\n                            freeSolo\r\n                            onChange={(event, newValue) => field.onChange(newValue)}\r\n                            options={GENRE_OPTION.map((option) => option)}\r\n                            renderTags={(value, getTagProps) =>\r\n                                value.map((option, index) => (\r\n                                    <Chip {...getTagProps({ index })} key={option} size=\"small\" label={option} />\r\n                                ))\r\n                            }\r\n                            renderInput={(params) => <TextField label=\"Genres\" {...params} />}\r\n                        />\r\n                    )}\r\n                />\r\n                <Controller\r\n                    name=\"tags\"\r\n                    control={control}\r\n                    render={({ field }) => (\r\n                        <Autocomplete\r\n                            {...field}\r\n                            multiple\r\n                            freeSolo\r\n                            options={TAG_OPTION}\r\n                            onChange={(event, newValue) => field.onChange(newValue)}\r\n                            renderTags={(value, getTagProps) =>\r\n                                value.map((option, index) => (\r\n                                    <Chip {...getTagProps({ index })} key={option} size=\"small\" label={option} />\r\n                                ))\r\n                            }\r\n                            renderInput={(params) => <TextField label=\"Tags\" {...params} />}\r\n                        />\r\n                    )}\r\n                />\r\n                <Controller\r\n                    name=\"urls.vi\"\r\n                    control={control}\r\n                    render={({ field }) => (\r\n                        <Autocomplete\r\n                            {...field}\r\n                            multiple\r\n                            freeSolo\r\n                            options={[]}\r\n                            onChange={(event, newValue) => field.onChange(newValue)}\r\n                            renderTags={(value, getTagProps) =>\r\n                                value.map((option, index) => (\r\n                                    <Chip {...getTagProps({ index })} key={option} size=\"small\" label={option} />\r\n                                ))\r\n                            }\r\n                            renderInput={(params) => <TextField label=\"Link việt\" {...params} />}\r\n                        />\r\n                    )}\r\n                />\r\n                <Button component={\"a\"} href={title?.links?.vi.find(l => l.site === \"GOOGLE-SENSEI\")?.link} target=\"_blank\" variant=\"contained\" size=\"large\">\r\n                    Tra Google\r\n                </Button>\r\n                <Controller\r\n                    name=\"urls.en\"\r\n                    control={control}\r\n                    render={({ field }) => (\r\n                        <Autocomplete\r\n                            {...field}\r\n                            multiple\r\n                            freeSolo\r\n                            options={[]}\r\n                            onChange={(event, newValue) => field.onChange(newValue)}\r\n                            renderTags={(value, getTagProps) =>\r\n                                value.map((option, index) => (\r\n                                    <Chip {...getTagProps({ index })} key={option} size=\"small\" label={option} />\r\n                                ))\r\n                            }\r\n                            renderInput={(params) => <TextField label=\"Link eng\" {...params} />}\r\n                        />\r\n                    )}\r\n                />\r\n                <RHFTextField\r\n                    name=\"score\"\r\n                    label=\"Điểm số\"\r\n                    placeholder=\"0.00\"\r\n                    value={getValues('score') === 0 ? '' : getValues('score')}\r\n                    onChange={(event) => setValue('score', Number(event.target.value))}\r\n                    InputLabelProps={{ shrink: true }}\r\n                    InputProps={{\r\n                        endAdornment: <InputAdornment position=\"end\">/100</InputAdornment>,\r\n                        type: 'number',\r\n                    }}\r\n                />\r\n                <div>\r\n                    <RHFTextField name=\"zennomi.review\" label=\"Zennomi review\" multiline maxRows={8} />\r\n                </div>\r\n                <LoadingButton type=\"submit\" variant=\"contained\" size=\"large\" loading={isSubmitting}>Cập nhật</LoadingButton>\r\n                <Button component={RouterLink} to={`/wibu/title/edit/${title?._id}`} variant=\"contained\" size=\"large\">\r\n                    Sửa chi tiết\r\n                </Button>\r\n            </Stack>\r\n        </FormProvider >\r\n    )\r\n}","// components\r\nimport Iconify from '../../components/Iconify';\r\nimport { IconButtonAnimate } from '../../components/animate';\r\n// @mui\r\nimport {\r\n    Alert,\r\n    Box,\r\n    Stack,\r\n    Drawer,\r\n    Tooltip,\r\n    Divider,\r\n    Typography,\r\n    Container,\r\n} from '@mui/material';\r\n// hooks\r\nimport useResponsive from '../../hooks/useResponsive';\r\nimport TitleUpdateForm from './TitleUpdateForm';\r\n\r\nexport default function TitleDrawer({ title, onClose, setTitle }) {\r\n    const isDesktop = useResponsive('up', 'sm');\r\n\r\n    return (\r\n        <Drawer open={Boolean(title)} onClose={onClose} anchor=\"right\" PaperProps={{ sx: { width: { xs: 1, sm: 480 }, py: 5 } }}>\r\n            <Container>\r\n                {!isDesktop && (\r\n                    <>\r\n                        <Tooltip title=\"Back\">\r\n                            <IconButtonAnimate onClick={onClose} sx={{ mr: 1 }}>\r\n                                <Iconify icon={'eva:arrow-ios-back-fill'} width={20} height={20} />\r\n                            </IconButtonAnimate>\r\n                        </Tooltip>\r\n                    </>\r\n                )}\r\n                <Alert color='error'>Thông tin ở đây có thể chưa được cập nhật sau lần cập nhật trước, reload lại nếu cần</Alert>\r\n                <TitleUpdateForm title={title} onClose={onClose} setTitle={setTitle}/>\r\n            </Container>\r\n        </Drawer>\r\n    )\r\n}","import { useMemo, useEffect } from 'react';\r\nimport { useSearchParams } from 'react-router-dom';\r\nimport * as Yup from 'yup';\r\nimport { useSnackbar } from 'notistack';\r\n// form\r\nimport { useForm, Controller } from 'react-hook-form';\r\nimport { yupResolver } from '@hookform/resolvers/yup';\r\n// components\r\nimport Iconify from '../../components/Iconify';\r\nimport { IconButtonAnimate } from '../../components/animate';\r\n// @mui\r\nimport { styled } from '@mui/material/styles';\r\nimport {\r\n    Autocomplete,\r\n    Chip,\r\n    Stack,\r\n    TextField,\r\n    Drawer,\r\n    Tooltip,\r\n    Typography,\r\n    Container,\r\n} from '@mui/material';\r\nimport { LoadingButton } from '@mui/lab';\r\n// hooks\r\nimport useResponsive from '../../hooks/useResponsive';\r\n// components\r\nimport {\r\n    FormProvider,\r\n    RHFSelect,\r\n    RHFTextField,\r\n    RHFSwitch,\r\n} from '../../components/hook-form';\r\n// utils\r\nimport paramsToObject from '../../utils/urlParamsHelper';\r\nimport { TYPE_OPTION, STATUS_OPTION, GENRE_OPTION, TAG_OPTION } from '../../constants';\r\n\r\nconst SORT_OPTION = [\r\n    {name: 'Điểm xếp hạng', value: 'score:desc'},\r\n    {name: 'Ngày thêm', value: 'createdAt:desc'},\r\n    {name: 'Tựa đề', value: 'title.en:asc'},\r\n]\r\n\r\nexport default function FilterDrawer({ isOpen, onClose, setNewParams }) {\r\n    const isDesktop = useResponsive('up', 'sm');\r\n    const { enqueueSnackbar } = useSnackbar();\r\n    const [searchParams, setSearchParams] = useSearchParams();\r\n\r\n    const currentFilter = paramsToObject(searchParams);\r\n    if (currentFilter.genres) currentFilter.genres = currentFilter.genres.split(\",\");\r\n    if (currentFilter.tags) currentFilter.tags = currentFilter.tags.split(\",\");\r\n    if (currentFilter.excludedGenres) currentFilter.excludedGenres = currentFilter.excludedGenres.split(\",\");\r\n    if (currentFilter.excludedTags) currentFilter.excludedTags = currentFilter.excludedTags.split(\",\");\r\n    \r\n    const defaultValues = useMemo(\r\n        () => ({\r\n            query: currentFilter?.query || '',\r\n            genres: currentFilter?.genres || [],\r\n            tags: currentFilter?.tags || [],\r\n            excludedGenres: currentFilter?.excludedGenres || [],\r\n            excludedTags: currentFilter?.excludedTags || [],\r\n            isLisensed: currentFilter?.isLisensed || false,\r\n            author: currentFilter?.author || [],\r\n            artist: currentFilter?.artist || [],\r\n            status: currentFilter?.status || 'all',\r\n            type: currentFilter?.type || 'all',\r\n            sortBy: currentFilter?.sortBy || 'score:desc',\r\n        }),\r\n        [currentFilter]\r\n    );\r\n\r\n    const FilterSchema = Yup.object().shape({\r\n\r\n    });\r\n\r\n    const methods = useForm({\r\n        resolver: yupResolver(FilterSchema),\r\n        defaultValues,\r\n    });\r\n\r\n    const {\r\n        reset,\r\n        control,\r\n        handleSubmit,\r\n        formState: { isSubmitting },\r\n    } = methods;\r\n\r\n    useEffect(() => {\r\n        reset(defaultValues);\r\n    }, [searchParams]);\r\n\r\n    const onSubmit = async (filter) => {\r\n        if (filter.genres.length > 0) filter.genres = filter.genres.join(\",\");\r\n        if (filter.tags.length > 0) filter.tags = filter.tags.join(\",\");\r\n        if (!filter.isLisensed) delete filter.isLisensed;\r\n        if (filter.excludedGenres.length > 0) filter.excludedGenres = filter.excludedGenres.join(\",\");\r\n        if (filter.excludedTags.length > 0) filter.excludedTags = filter.excludedTags.join(\",\");\r\n        setNewParams(filter);\r\n        enqueueSnackbar('Áp dụng bộ lọc!');\r\n        onClose();\r\n    };\r\n\r\n    return (\r\n        <Drawer open={isOpen} onClose={onClose} anchor=\"right\" PaperProps={{ sx: { width: { xs: 1, sm: 480 }, py: 5 } }}>\r\n            <Container>\r\n                {!isDesktop && (\r\n                    <>\r\n                        <Tooltip title=\"Back\">\r\n                            <IconButtonAnimate onClick={onClose} sx={{ mr: 1 }}>\r\n                                <Iconify icon={'eva:arrow-ios-back-fill'} width={20} height={20} />\r\n                            </IconButtonAnimate>\r\n                        </Tooltip>\r\n                    </>\r\n                )}\r\n                <FormProvider methods={methods} onSubmit={handleSubmit(onSubmit)}>\r\n                    <Stack spacing={1}>\r\n                        <RHFTextField name=\"query\" label=\"Tựa đề chứa cụm từ\" />\r\n\r\n                        <RHFSelect name=\"type\" label=\"Hình thức\">\r\n                            {[...TYPE_OPTION, 'all'].map((status) => (\r\n                                <option>{status}</option>\r\n                            ))}\r\n                        </RHFSelect>\r\n                        <RHFSelect name=\"status\" label=\"Trạng thái\">\r\n                            {[...STATUS_OPTION, 'all'].map((status) => (\r\n                                <option>{status}</option>\r\n                            ))}\r\n                        </RHFSelect>\r\n                        <Controller\r\n                            name=\"genres\"\r\n                            control={control}\r\n                            render={({ field }) => (\r\n                                <Autocomplete\r\n                                    {...field}\r\n                                    multiple\r\n                                    freeSolo\r\n                                    onChange={(event, newValue) => field.onChange(newValue)}\r\n                                    options={GENRE_OPTION.map((option) => option)}\r\n                                    renderTags={(value, getTagProps) =>\r\n                                        value.map((option, index) => (\r\n                                            <Chip color=\"success\" {...getTagProps({ index })} key={option} size=\"small\" label={option} />\r\n                                        ))\r\n                                    }\r\n                                    renderInput={(params) => <TextField label=\"Có thể loại\" {...params} />}\r\n                                />\r\n                            )}\r\n                        />\r\n                        <Controller\r\n                            name=\"tags\"\r\n                            control={control}\r\n                            render={({ field }) => (\r\n                                <Autocomplete\r\n                                    {...field}\r\n                                    multiple\r\n                                    freeSolo\r\n                                    options={[]}\r\n                                    onChange={(event, newValue) => field.onChange(newValue)}\r\n                                    options={TAG_OPTION.map((option) => option)}\r\n                                    renderTags={(value, getTagProps) =>\r\n                                        value.map((option, index) => (\r\n                                            <Chip color=\"success\" {...getTagProps({ index })} key={option} size=\"small\" label={option} />\r\n                                        ))\r\n                                    }\r\n                                    renderInput={(params) => <TextField label=\"Có tag\" {...params} />}\r\n                                />\r\n                            )}\r\n                        />\r\n                        <Controller\r\n                            name=\"excludedGenres\"\r\n                            control={control}\r\n                            render={({ field }) => (\r\n                                <Autocomplete\r\n                                    {...field}\r\n                                    multiple\r\n                                    freeSolo\r\n                                    options={[]}\r\n                                    onChange={(event, newValue) => field.onChange(newValue)}\r\n                                    options={GENRE_OPTION.map((option) => option)}\r\n                                    renderTags={(value, getTagProps) =>\r\n                                        value.map((option, index) => (\r\n                                            <Chip color=\"error\" {...getTagProps({ index })} key={option} size=\"small\" label={option} />\r\n                                        ))\r\n                                    }\r\n                                    renderInput={(params) => <TextField label=\"Loại trừ thể loại\" {...params} />}\r\n                                />\r\n                            )}\r\n                        />\r\n                        <Controller\r\n                            name=\"excludedTags\"\r\n                            control={control}\r\n                            render={({ field }) => (\r\n                                <Autocomplete\r\n                                    {...field}\r\n                                    multiple\r\n                                    freeSolo\r\n                                    options={[]}\r\n                                    onChange={(event, newValue) => field.onChange(newValue)}\r\n                                    options={TAG_OPTION.map((option) => option)}\r\n                                    renderTags={(value, getTagProps) =>\r\n                                        value.map((option, index) => (\r\n                                            <Chip color=\"error\" {...getTagProps({ index })} key={option} size=\"small\" label={option} />\r\n                                        ))\r\n                                    }\r\n                                    renderInput={(params) => <TextField label=\"Loại trừ tag\" {...params} />}\r\n                                />\r\n                            )}\r\n                        />\r\n                        <RHFSelect name=\"sortBy\" label=\"Xếp theo\">\r\n                            {SORT_OPTION.map(({name, value}) => (\r\n                                <option value={value}>{name}</option>\r\n                            ))}\r\n                        </RHFSelect>\r\n                        <LoadingButton type=\"submit\" variant=\"contained\" size=\"large\" loading={isSubmitting}>\r\n                            {\"Lọc & Sắp xếp\"}\r\n                        </LoadingButton>\r\n                    </Stack>\r\n                </FormProvider>\r\n            </Container>\r\n        </Drawer>\r\n    )\r\n}","export default function paramsToObject(urlParams) {\r\n    const entries = urlParams.entries();\r\n    const result = {}\r\n    for (const [key, value] of entries) { // each 'entry' is a [key, value] tupple\r\n      result[key] = value;\r\n    }\r\n    return result;\r\n  }","import { useState, useCallback, useEffect } from 'react';\r\nimport { Link as RouterLink, useSearchParams } from 'react-router-dom';\r\n// @mui\r\nimport { Alert, Container, Grid, Button, IconButton, Pagination, Box, Chip, ToggleButton, ToggleButtonGroup, Select, MenuItem, InputLabel, FormControl } from '@mui/material';\r\n// hooks\r\nimport { useSnackbar } from 'notistack';\r\nimport useSettings from '../../hooks/useSettings';\r\nimport useIsMountedRef from '../../hooks/useIsMountedRef';\r\nimport useAuth from '../../hooks/useAuth';\r\n\r\n// components\r\nimport Page from '../../components/Page';\r\nimport HeaderBreadcrumbs from '../../components/HeaderBreadcrumbs';\r\nimport TitleCard from '../../components/title/TitleCard';\r\nimport TitleCardSkeleton from '../../components/title/TitleCardSkeleton';\r\nimport Iconify from '../../components/Iconify';\r\n// sections\r\nimport TitleDrawer from '../../sections/title/TitleDrawer';\r\nimport FilterDrawer from '../../sections/title/FilterDrawer';\r\n// utils\r\nimport axios from '../../utils/axios';\r\n// paths\r\nimport { PATH_WIBU } from '../../routes/paths';\r\n\r\n// ----------------------------------------------------------------------\r\n\r\nconst TYPE_OPTION = ['manga', 'novel', 'anime']\r\n\r\nexport default function Titles() {\r\n  const { themeStretch } = useSettings();\r\n  const isMountedRef = useIsMountedRef();\r\n  const { enqueueSnackbar } = useSnackbar();\r\n  const { user } = useAuth();\r\n\r\n  const [title, setTitle] = useState();\r\n  const [titles, setTitles] = useState([]);\r\n  const [total, setTotal] = useState(1);\r\n  const [isFilterOpen, setIsFilterOpen] = useState(false);\r\n  const [searchParams, setSearchParams] = useSearchParams({ page: 1, sortBy: 'score:desc' });\r\n\r\n  const getTitles = useCallback(async () => {\r\n    try {\r\n      const { data } = await axios.get('/v1/titles', {\r\n        params: { ...paramsToObject(searchParams), limit: 12 }\r\n      });\r\n      if (isMountedRef.current) {\r\n        setTitles(data.results);\r\n        setTotal(data.totalPages);\r\n      }\r\n    } catch (err) {\r\n      console.error(err);\r\n      enqueueSnackbar(err, { variant: 'error' });\r\n    }\r\n  }, [isMountedRef, searchParams]);\r\n\r\n  const handlePageChange = (event, page) => {\r\n    setNewParams({ page });\r\n  }\r\n\r\n  const setNewParams = (params) => {\r\n    if (!params.page) params.page = 1;\r\n    const newParams = paramsToObject(searchParams);\r\n    Object.keys(params).forEach(key => {\r\n      if (params[key] === null || params[key] === 'all' || params[key] === '') delete newParams[key];\r\n      else newParams[key] = params[key];\r\n    });\r\n    setSearchParams({\r\n      ...newParams\r\n    })\r\n  }\r\n\r\n  const handleClose = () => {\r\n    setTitle(null);\r\n  }\r\n\r\n  const handleFilterClose = () => {\r\n    setIsFilterOpen(false);\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (title) return;\r\n    getTitles();\r\n    return () => { setTitles([]); }\r\n  }, [getTitles]);\r\n\r\n  const handleTypeClick = (event, _type) => {\r\n    if (!_type) setNewParams({ type: null, page: 1 });\r\n    else setNewParams({ type: _type, page: 1 });\r\n  }\r\n\r\n  return (\r\n    <Page title=\"Thư viện\">\r\n      <Container maxWidth={themeStretch ? false : 'xl'}>\r\n        <HeaderBreadcrumbs\r\n          heading=\"Thư viện của Zennomi\"\r\n          links={[\r\n            { name: PATH_WIBU.label, href: PATH_WIBU.root },\r\n            { name: PATH_WIBU.title.label, href: PATH_WIBU.title.root },\r\n          ]}\r\n        />\r\n        <ToggleButtonGroup\r\n          color=\"primary\"\r\n          value={searchParams.get(\"type\")}\r\n          exclusive\r\n          onChange={handleTypeClick}\r\n          fullWidth\r\n          sx={{ mb: 3 }}\r\n        >\r\n          {\r\n            TYPE_OPTION.map(_type => (\r\n              <ToggleButton\r\n                value={_type}\r\n                key={_type}\r\n              >\r\n                {_type.toUpperCase()}\r\n              </ToggleButton>\r\n            ))\r\n          }\r\n        </ToggleButtonGroup>\r\n        <Box sx={{ display: 'flex', justifyContent: 'right' }}>\r\n          <Button\r\n            startIcon={<Iconify icon='bi:filter' />}\r\n            endIcon={<Chip label={Object.keys(paramsToObject(searchParams)).length - 2} size='small' color='info' />}\r\n            color='info'\r\n            variant=\"outlined\"\r\n            onClick={() => { setIsFilterOpen(true) }}\r\n            sx={{ mb: 2, mr: 2 }}\r\n          >\r\n            Lọc\r\n          </Button>\r\n        </Box>\r\n        <Grid container spacing={2}>\r\n          {\r\n            titles.length === 0 ?\r\n              Array(12).fill(\r\n                <Grid item xs={4} md={3} xl={2}>\r\n                  <TitleCardSkeleton />\r\n                </Grid>\r\n              ) :\r\n              titles.map(\r\n                title =>\r\n                  <Grid item xs={4} md={3} xl={2} key={title._id}>\r\n                    < div style={{ position: 'relative' }}>\r\n                      <TitleCard title={title} />\r\n                      {\r\n                        user.isStaff &&\r\n                        <IconButton\r\n                          color=\"primary\"\r\n                          sx={{ position: 'absolute', top: 0, right: 0 }}\r\n                          aria-haspopup=\"true\"\r\n                          onClick={() => setTitle(title)}\r\n                        >\r\n                          <Iconify icon={'eva:more-vertical-fill'} />\r\n                        </IconButton>\r\n                      }\r\n                    </div>\r\n                  </Grid>\r\n              )\r\n          }\r\n        </Grid>\r\n        <Box sx={{ display: 'flex', justifyContent: 'right' }}>\r\n          <Pagination sx={{ my: 2 }} count={total} page={Number(searchParams.get(\"page\"))} onChange={handlePageChange} />\r\n        </Box>\r\n        <Alert severity=\"info\">Thông tin từng bộ còn thiếu khá nhiều, bạn nào có nhã ý muốn đóng góp thì liên lạc với mình nhé!</Alert>\r\n        {user.isStaff && <TitleDrawer title={title} onClose={handleClose} setTitle={setTitle} />}\r\n        <FilterDrawer isOpen={isFilterOpen} onClose={handleFilterClose} setNewParams={setNewParams} />\r\n      </Container>\r\n    </Page>\r\n  );\r\n}\r\n\r\nfunction paramsToObject(urlParams) {\r\n  const entries = urlParams.entries();\r\n  const result = {}\r\n  for (const [key, value] of entries) { // each 'entry' is a [key, value] tupple\r\n    result[key] = value;\r\n  }\r\n  return result;\r\n}"],"sourceRoot":""}