(this["webpackJsonp@minimal/minimal-kit-react"]=this["webpackJsonp@minimal/minimal-kit-react"]||[]).push([[16],{1220:function(t,e,n){"use strict";n.d(e,"a",(function(){return h}));n(1);var a=n(42),i=n(7),c=n(51),r=n(1203),o=n(209),l=n(1255),s=n(1218),d=n(90),u=n(371),b=n(39),j=n(0);function h(t){var e,n,i=t.title;return Object(j.jsxs)(r.a,{children:[Object(j.jsx)(d.a,{src:i.coverArt[0],alt:null===(e=i.title)||void 0===e?void 0:e.en,ratio:"4/6"}),Object(j.jsx)(p,{}),Object(j.jsx)(O,{component:a.b,to:"".concat(b.b.title.one,"/").concat(i._id),children:Object(j.jsxs)(u.a,{line:2,children:[Object(j.jsx)(o.a,{width:"100%",variant:"subtitle1",component:"span",children:null===(n=i.title)||void 0===n?void 0:n.en}),(null===i||void 0===i?void 0:i.altTitle)&&Object(j.jsx)(o.a,{width:"100%",variant:"body2",sx:{opacity:.72},component:"span",children:" - ".concat(null===i||void 0===i?void 0:i.altTitle)})]})}),Object(j.jsx)(l.a,{label:i.type,color:"primary",size:"small",sx:function(t){return{position:"absolute",top:t.spacing(.5),left:t.spacing(.5),opacity:.9}}})]})}var p=Object(i.a)("div")((function(t){var e=t.theme;return{top:0,width:"100%",height:"100%",position:"absolute",backgroundImage:"linear-gradient(to top, ".concat(e.palette.grey[900]," 0%,").concat(Object(c.a)(e.palette.grey[900],0)," 50%)")}})),O=Object(i.a)(s.a)((function(t){var e=t.theme;return{bottom:0,width:"100%",display:"flex",alignItems:"center",position:"absolute",justifyContent:"space-between",color:e.palette.common.white,padding:e.spacing(1)}}))},1226:function(t,e,n){"use strict";n.d(e,"a",(function(){return d}));var a=n(25),i=n(3),c=n(7),r=n(51),o=n(0),l=["color","variant","children"],s=Object(c.a)("span")((function(t){var e=t.theme,n=t.ownerState,a="light"===e.palette.mode,c=n.color,o=n.variant;return Object(i.a)({height:22,minWidth:22,lineHeight:0,borderRadius:8,cursor:"default",alignItems:"center",whiteSpace:"nowrap",display:"inline-flex",justifyContent:"center",padding:e.spacing(0,1),color:e.palette.grey[800],fontSize:e.typography.pxToRem(12),fontFamily:e.typography.fontFamily,backgroundColor:e.palette.grey[300],fontWeight:e.typography.fontWeightBold},"default"!==c?Object(i.a)(Object(i.a)(Object(i.a)({},"filled"===o&&Object(i.a)({},function(t){return{color:e.palette[t].contrastText,backgroundColor:e.palette[t].main}}(c))),"outlined"===o&&Object(i.a)({},function(t){return{color:e.palette[t].main,backgroundColor:"transparent",border:"1px solid ".concat(e.palette[t].main)}}(c))),"ghost"===o&&Object(i.a)({},function(t){return{color:e.palette[t][a?"dark":"light"],backgroundColor:Object(r.a)(e.palette[t].main,.16)}}(c))):Object(i.a)(Object(i.a)({},"outlined"===o&&{backgroundColor:"transparent",color:e.palette.text.primary,border:"1px solid ".concat(e.palette.grey[50032])}),"ghost"===o&&{color:a?e.palette.text.secondary:e.palette.common.white,backgroundColor:e.palette.grey[50016]}))}));function d(t){var e=t.color,n=void 0===e?"default":e,c=t.variant,r=void 0===c?"ghost":c,d=t.children,u=Object(a.a)(t,l);return Object(o.jsx)(s,Object(i.a)(Object(i.a)({ownerState:{color:n,variant:r}},u),{},{children:d}))}},1238:function(t,e,n){"use strict";n.d(e,"a",(function(){return J}));var a=n(13),i=n(12),c=n(6),r=n(3),o=n(5),l=n.n(o),s=n(212),d=n(365),u=n(34),b=n(1),j=n(1251),h=n(36),p=n(368),O=n(7),m=n(1179),x=n(209),f=n(1191),v=n(1203),g=n(1256),y=n(1227),k=n(1162),w=n(1178),C=n(39),S=n(182),T=n(1319),R=n(1210),W=n(1252),B=(n(1220),n(90)),I=n(364),q=n(0),A=[{field:"name",headerName:"T\xean",width:500,renderCell:function(t){return Object(q.jsxs)(T.a,{sx:{display:"flex",alignItems:"center"},children:[Object(q.jsx)(v.a,{sx:{borderRadius:1,mr:2,width:64},children:Object(q.jsx)(B.a,{disabledEffect:!0,alt:t.name,src:t.getValue(t.id,"coverArt")[0],ratio:"4/6"})}),Object(q.jsx)(x.a,{variant:"subtitle2",noWrap:!0,children:t.value})]})}},{field:"type",headerName:"Lo\u1ea1i",width:90}];function E(t){var e=t.handleAddButtonClick,n=Object(b.useState)(""),i=Object(a.a)(n,2),r=i[0],o=i[1],s=Object(b.useState)([]),d=Object(a.a)(s,2),u=d[0],j=d[1],h=Object(b.useState)([]),p=Object(a.a)(h,2),O=p[0],x=p[1],f=function(){var t=Object(c.a)(l.a.mark((function t(){var e,n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(I.a)({url:"/v1/titles",method:"get",params:{query:r}});case 2:e=t.sent,n=e.data.results,j(n);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(q.jsxs)(k.a,{spacing:1,children:[Object(q.jsx)(R.a,{fullWidth:!0,onChange:function(t){o(t.target.value)}}),Object(q.jsx)(m.a,{variant:"contained",onClick:f,children:"T\xecm"}),Object(q.jsx)("div",{style:{height:300,width:"100%"},children:Object(q.jsx)(W.a,{rows:u,columns:A,pageSize:25,checkboxSelection:!0,hideFooterPagination:!0,onSelectionModelChange:function(t){x(u.filter((function(e){return t.includes(e._id)})))}})}),Object(q.jsx)(m.a,{variant:"contained",onClick:function(){e(O)},children:"Th\xeam v\xe0o b\u1ed9 s\u01b0u t\u1eadp"})]})}var _=n(42),z=n(1253),L=n(1218),N=n(545),P=n(278),V=n(1195),D=n(1226),F=n(26);function M(t){var e=t.titles,n=t.handleDragEnd,a=t.handleRemoveButtonClick;return Object(q.jsx)(z.a,{onDragEnd:n,children:Object(q.jsx)(z.c,{droppableId:"droppable",children:function(t,n){return Object(q.jsxs)("div",Object(r.a)(Object(r.a)({},t.droppableProps),{},{ref:t.innerRef,children:[e.map((function(t,e){return Object(q.jsx)(z.b,{draggableId:t.id,index:e,children:function(n,i){return Object(q.jsx)("div",Object(r.a)(Object(r.a)(Object(r.a)({ref:n.innerRef},n.draggableProps),n.dragHandleProps),{},{children:Object(q.jsxs)(v.a,{sx:{p:1,m:1},children:[Object(q.jsxs)(f.a,{container:!0,spacing:2,children:[Object(q.jsxs)(f.a,{item:!0,xs:2,children:[Object(q.jsx)(v.a,{sx:{borderRadius:1},children:Object(q.jsx)(L.a,{component:_.b,to:"".concat(C.b.title.one,"/").concat(t._id),children:Object(q.jsx)(B.a,{src:t.coverArt[0],ratio:"3/4"})})}),Object(q.jsx)(N.a,{sx:{position:"absolute",top:0,left:0,bgcolor:"primary.main",color:"common.white"},children:e+1})]}),Object(q.jsxs)(f.a,{item:!0,xs:10,children:[Object(q.jsx)(x.a,{variant:"h6",children:t.name}),Object(q.jsx)(x.a,{variant:"body1",children:t.altTitle}),Object(q.jsxs)(P.a,{sx:{display:"flex",flexWrap:"wrap"},children:[null===t||void 0===t?void 0:t.genres.map((function(t){return Object(q.jsx)(D.a,{color:"primary",sx:{m:.2},children:t},t)})),null===t||void 0===t?void 0:t.tags.map((function(t){return Object(q.jsx)(D.a,{color:"primary",variant:"outlined",sx:{m:.2},children:t},t)}))]})]})]}),Object(q.jsx)(V.a,{size:"small","aria-label":"delete",sx:{position:"absolute",bottom:0,right:0,bgcolor:"error.main",color:"common.white"},onClick:function(){a(t.id)},children:Object(q.jsx)(F.a,{icon:"ep:delete-filled"})})]})}))}},t.id)})),t.placeholder]}))}})})}var H=Object(O.a)(x.a)((function(t){var e=t.theme;return Object(r.a)(Object(r.a)({},e.typography.sublist2),{},{color:e.palette.text.secondary,marginBottom:e.spacing(1)})}));function J(t){var e=t.isEdit,n=t.currentList,a=Object(u.g)(),r=Object(d.b)().enqueueSnackbar,o=s.b().shape({name:s.c().required("Name is required"),titles:s.a().min(0,"Images is required")}),O=Object(b.useMemo)((function(){return{name:(null===n||void 0===n?void 0:n.name)||"",description:(null===n||void 0===n?void 0:n.description)||"",titles:(null===n||void 0===n?void 0:n.titles)||[]}}),[n]),x=Object(h.f)({resolver:Object(p.a)(o),defaultValues:O}),T=x.reset,R=x.watch,W=x.setValue,B=x.handleSubmit,A=(x.getValues,x.formState.isSubmitting),_=R();Object(b.useEffect)((function(){e&&n&&T(O),e||T(O)}),[e,n]);var z=function(){var t=Object(c.a)(l.a.mark((function t(i){var c,o,s,d,u;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,i.titles=i.titles.map((function(t){return t.id})),!e){t.next=10;break}return t.next=5,Object(I.a)({url:"/v1/lists/".concat(n._id),method:"post",data:i});case 5:o=t.sent,s=o.data._id,c=s,t.next=15;break;case 10:return t.next=12,Object(I.a)({url:"/v1/lists",method:"post",data:i});case 12:d=t.sent,u=d.data._id,c=u;case 15:r(e?"Update success!":"Create success!"),a("".concat(C.b.list.one,"/").concat(c)),t.next=23;break;case 19:t.prev=19,t.t0=t.catch(0),console.error(t.t0),r(t.t0,{color:"error"});case 23:case"end":return t.stop()}}),t,null,[[0,19]])})));return function(e){return t.apply(this,arguments)}}();return Object(q.jsx)(S.a,{methods:x,onSubmit:B(z),children:Object(q.jsxs)(f.a,{container:!0,spacing:2,children:[Object(q.jsxs)(f.a,{item:!0,xs:12,md:6,children:[Object(q.jsxs)(v.a,{sx:{mb:1},children:[Object(q.jsx)(g.a,{title:"Th\xf4ng tin b\u1ed9 s\u01b0u t\u1eadp"}),Object(q.jsx)(y.a,{children:Object(q.jsxs)(k.a,{spacing:1,children:[Object(q.jsx)(S.g,{name:"name",label:"T\xean b\u1ed9 s\u01b0u t\u1eadp"}),Object(q.jsxs)("div",{children:[Object(q.jsx)(H,{children:"M\xf4 t\u1ea3 b\u1ed9 s\u01b0u t\u1eadp n\xe0y"}),Object(q.jsx)(S.c,{simple:!0,name:"description"})]})]})})]}),e&&Object(q.jsx)(w.a,{severity:"info",children:"Ngo\xe0i c\xe1ch th\xeam th\u1ee7 c\xf4ng n\xe0y, b\u1ea1n c\xf3 th\u1ec3 th\xeam b\u1eb1ng c\xe1ch v\xe0o trang ri\xeang c\u1ee7a m\u1ed9t b\u1ed9 b\u1ea5t k\u1ef3."}),Object(q.jsx)(M,{titles:_.titles,handleDragEnd:function(t){if(t.destination){var e=U(_.titles,t.source.index,t.destination.index);W("titles",e)}},handleRemoveButtonClick:function(t){W("titles",_.titles.filter((function(e){return e.id!==t})))}})]}),Object(q.jsxs)(f.a,{item:!0,xs:12,md:6,children:[Object(q.jsxs)(v.a,{sx:{mb:2},children:[Object(q.jsx)(g.a,{title:"T\xecm ki\u1ebfm trong th\u01b0 vi\u1ec7n"}),Object(q.jsx)(y.a,{children:Object(q.jsx)(E,{handleAddButtonClick:function(t){W("titles",Object(j.uniqBy)([].concat(Object(i.a)(_.titles),Object(i.a)(t)),"id"))}})})]}),Object(q.jsx)(m.a,{fullWidth:!0,size:"large",type:"submit",variant:"contained",loading:A,children:"L\u01b0u l\u1ea1i"})]})]})})}var U=function(t,e,n){var i=Array.from(t),c=i.splice(e,1),r=Object(a.a)(c,1)[0];return i.splice(n,0,r),i}},1348:function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return l}));var a=n(1207),i=n(60),c=n(363),r=n(1238),o=(n(364),n(0));function l(){var t=Object(i.a)().themeStretch;return Object(o.jsx)(c.a,{title:"New List",children:Object(o.jsx)(a.a,{maxWidth:!t&&"xl",children:Object(o.jsx)(r.a,{currentList:null})})})}}}]);
//# sourceMappingURL=16.3d139e71.chunk.js.map