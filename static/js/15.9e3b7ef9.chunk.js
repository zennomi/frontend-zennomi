(this["webpackJsonp@minimal/minimal-kit-react"]=this["webpackJsonp@minimal/minimal-kit-react"]||[]).push([[15],{1220:function(t,e,n){"use strict";n.d(e,"a",(function(){return p}));n(1);var a=n(42),c=n(7),i=n(51),r=n(1203),o=n(209),s=n(1255),l=n(1218),d=n(90),u=n(371),b=n(39),j=n(0);function p(t){var e,n,c=t.title;return Object(j.jsxs)(r.a,{children:[Object(j.jsx)(d.a,{src:c.coverArt[0],alt:null===(e=c.title)||void 0===e?void 0:e.en,ratio:"4/6"}),Object(j.jsx)(h,{}),Object(j.jsx)(O,{component:a.b,to:"".concat(b.b.title.one,"/").concat(c._id),children:Object(j.jsxs)(u.a,{line:2,children:[Object(j.jsx)(o.a,{width:"100%",variant:"subtitle1",component:"span",children:null===(n=c.title)||void 0===n?void 0:n.en}),(null===c||void 0===c?void 0:c.altTitle)&&Object(j.jsx)(o.a,{width:"100%",variant:"body2",sx:{opacity:.72},component:"span",children:" - ".concat(null===c||void 0===c?void 0:c.altTitle)})]})}),Object(j.jsx)(s.a,{label:c.type,color:"primary",size:"small",sx:function(t){return{position:"absolute",top:t.spacing(.5),left:t.spacing(.5),opacity:.9}}})]})}var h=Object(c.a)("div")((function(t){var e=t.theme;return{top:0,width:"100%",height:"100%",position:"absolute",backgroundImage:"linear-gradient(to top, ".concat(e.palette.grey[900]," 0%,").concat(Object(i.a)(e.palette.grey[900],0)," 50%)")}})),O=Object(c.a)(l.a)((function(t){var e=t.theme;return{bottom:0,width:"100%",display:"flex",alignItems:"center",position:"absolute",justifyContent:"space-between",color:e.palette.common.white,padding:e.spacing(1)}}))},1226:function(t,e,n){"use strict";n.d(e,"a",(function(){return d}));var a=n(25),c=n(3),i=n(7),r=n(51),o=n(0),s=["color","variant","children"],l=Object(i.a)("span")((function(t){var e=t.theme,n=t.ownerState,a="light"===e.palette.mode,i=n.color,o=n.variant;return Object(c.a)({height:22,minWidth:22,lineHeight:0,borderRadius:8,cursor:"default",alignItems:"center",whiteSpace:"nowrap",display:"inline-flex",justifyContent:"center",padding:e.spacing(0,1),color:e.palette.grey[800],fontSize:e.typography.pxToRem(12),fontFamily:e.typography.fontFamily,backgroundColor:e.palette.grey[300],fontWeight:e.typography.fontWeightBold},"default"!==i?Object(c.a)(Object(c.a)(Object(c.a)({},"filled"===o&&Object(c.a)({},function(t){return{color:e.palette[t].contrastText,backgroundColor:e.palette[t].main}}(i))),"outlined"===o&&Object(c.a)({},function(t){return{color:e.palette[t].main,backgroundColor:"transparent",border:"1px solid ".concat(e.palette[t].main)}}(i))),"ghost"===o&&Object(c.a)({},function(t){return{color:e.palette[t][a?"dark":"light"],backgroundColor:Object(r.a)(e.palette[t].main,.16)}}(i))):Object(c.a)(Object(c.a)({},"outlined"===o&&{backgroundColor:"transparent",color:e.palette.text.primary,border:"1px solid ".concat(e.palette.grey[50032])}),"ghost"===o&&{color:a?e.palette.text.secondary:e.palette.common.white,backgroundColor:e.palette.grey[50016]}))}));function d(t){var e=t.color,n=void 0===e?"default":e,i=t.variant,r=void 0===i?"ghost":i,d=t.children,u=Object(a.a)(t,s);return Object(o.jsx)(l,Object(c.a)(Object(c.a)({ownerState:{color:n,variant:r}},u),{},{children:d}))}},1238:function(t,e,n){"use strict";n.d(e,"a",(function(){return J}));var a=n(13),c=n(12),i=n(6),r=n(3),o=n(5),s=n.n(o),l=n(212),d=n(365),u=n(34),b=n(1),j=n(1251),p=n(36),h=n(368),O=n(7),m=n(1179),x=n(209),f=n(1191),v=n(1203),g=n(1256),y=n(1227),k=n(1162),w=n(1178),C=n(39),S=n(182),T=n(1319),E=n(1210),R=n(1252),W=(n(1220),n(90)),B=n(364),I=n(0),q=[{field:"name",headerName:"T\xean",width:500,renderCell:function(t){return Object(I.jsxs)(T.a,{sx:{display:"flex",alignItems:"center"},children:[Object(I.jsx)(v.a,{sx:{borderRadius:1,mr:2,width:64},children:Object(I.jsx)(W.a,{disabledEffect:!0,alt:t.name,src:t.getValue(t.id,"coverArt")[0],ratio:"4/6"})}),Object(I.jsx)(x.a,{variant:"subtitle2",noWrap:!0,children:t.value})]})}},{field:"type",headerName:"Lo\u1ea1i",width:90}];function A(t){var e=t.handleAddButtonClick,n=Object(b.useState)(""),c=Object(a.a)(n,2),r=c[0],o=c[1],l=Object(b.useState)([]),d=Object(a.a)(l,2),u=d[0],j=d[1],p=Object(b.useState)([]),h=Object(a.a)(p,2),O=h[0],x=h[1],f=function(){var t=Object(i.a)(s.a.mark((function t(){var e,n;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(B.a)({url:"/v1/titles",method:"get",params:{query:r}});case 2:e=t.sent,n=e.data.results,j(n);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(I.jsxs)(k.a,{spacing:1,children:[Object(I.jsx)(E.a,{fullWidth:!0,onChange:function(t){o(t.target.value)}}),Object(I.jsx)(m.a,{variant:"contained",onClick:f,children:"T\xecm"}),Object(I.jsx)("div",{style:{height:300,width:"100%"},children:Object(I.jsx)(R.a,{rows:u,columns:q,pageSize:25,checkboxSelection:!0,hideFooterPagination:!0,onSelectionModelChange:function(t){x(u.filter((function(e){return t.includes(e._id)})))}})}),Object(I.jsx)(m.a,{variant:"contained",onClick:function(){e(O)},children:"Th\xeam v\xe0o b\u1ed9 s\u01b0u t\u1eadp"})]})}var _=n(42),z=n(1253),L=n(1218),N=n(545),P=n(278),V=n(1195),D=n(1226),F=n(26);function M(t){var e=t.titles,n=t.handleDragEnd,a=t.handleRemoveButtonClick;return Object(I.jsx)(z.a,{onDragEnd:n,children:Object(I.jsx)(z.c,{droppableId:"droppable",children:function(t,n){return Object(I.jsxs)("div",Object(r.a)(Object(r.a)({},t.droppableProps),{},{ref:t.innerRef,children:[e.map((function(t,e){return Object(I.jsx)(z.b,{draggableId:t.id,index:e,children:function(n,c){return Object(I.jsx)("div",Object(r.a)(Object(r.a)(Object(r.a)({ref:n.innerRef},n.draggableProps),n.dragHandleProps),{},{children:Object(I.jsxs)(v.a,{sx:{p:1,m:1},children:[Object(I.jsxs)(f.a,{container:!0,spacing:2,children:[Object(I.jsxs)(f.a,{item:!0,xs:2,children:[Object(I.jsx)(v.a,{sx:{borderRadius:1},children:Object(I.jsx)(L.a,{component:_.b,to:"".concat(C.b.title.one,"/").concat(t._id),children:Object(I.jsx)(W.a,{src:t.coverArt[0],ratio:"3/4"})})}),Object(I.jsx)(N.a,{sx:{position:"absolute",top:0,left:0,bgcolor:"primary.main",color:"common.white"},children:e+1})]}),Object(I.jsxs)(f.a,{item:!0,xs:10,children:[Object(I.jsx)(x.a,{variant:"h6",children:t.name}),Object(I.jsx)(x.a,{variant:"body1",children:t.altTitle}),Object(I.jsxs)(P.a,{sx:{display:"flex",flexWrap:"wrap"},children:[null===t||void 0===t?void 0:t.genres.map((function(t){return Object(I.jsx)(D.a,{color:"primary",sx:{m:.2},children:t},t)})),null===t||void 0===t?void 0:t.tags.map((function(t){return Object(I.jsx)(D.a,{color:"primary",variant:"outlined",sx:{m:.2},children:t},t)}))]})]})]}),Object(I.jsx)(V.a,{size:"small","aria-label":"delete",sx:{position:"absolute",bottom:0,right:0,bgcolor:"error.main",color:"common.white"},onClick:function(){a(t.id)},children:Object(I.jsx)(F.a,{icon:"ep:delete-filled"})})]})}))}},t.id)})),t.placeholder]}))}})})}var H=Object(O.a)(x.a)((function(t){var e=t.theme;return Object(r.a)(Object(r.a)({},e.typography.sublist2),{},{color:e.palette.text.secondary,marginBottom:e.spacing(1)})}));function J(t){var e=t.isEdit,n=t.currentList,a=Object(u.g)(),r=Object(d.b)().enqueueSnackbar,o=l.b().shape({name:l.c().required("Name is required"),titles:l.a().min(0,"Images is required")}),O=Object(b.useMemo)((function(){return{name:(null===n||void 0===n?void 0:n.name)||"",description:(null===n||void 0===n?void 0:n.description)||"",titles:(null===n||void 0===n?void 0:n.titles)||[]}}),[n]),x=Object(p.f)({resolver:Object(h.a)(o),defaultValues:O}),T=x.reset,E=x.watch,R=x.setValue,W=x.handleSubmit,q=(x.getValues,x.formState.isSubmitting),_=E();Object(b.useEffect)((function(){e&&n&&T(O),e||T(O)}),[e,n]);var z=function(){var t=Object(i.a)(s.a.mark((function t(c){var i,o,l,d,u;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,c.titles=c.titles.map((function(t){return t.id})),!e){t.next=10;break}return t.next=5,Object(B.a)({url:"/v1/lists/".concat(n._id),method:"post",data:c});case 5:o=t.sent,l=o.data._id,i=l,t.next=15;break;case 10:return t.next=12,Object(B.a)({url:"/v1/lists",method:"post",data:c});case 12:d=t.sent,u=d.data._id,i=u;case 15:r(e?"Update success!":"Create success!"),a("".concat(C.b.list.one,"/").concat(i)),t.next=23;break;case 19:t.prev=19,t.t0=t.catch(0),console.error(t.t0),r(t.t0,{color:"error"});case 23:case"end":return t.stop()}}),t,null,[[0,19]])})));return function(e){return t.apply(this,arguments)}}();return Object(I.jsx)(S.a,{methods:x,onSubmit:W(z),children:Object(I.jsxs)(f.a,{container:!0,spacing:2,children:[Object(I.jsxs)(f.a,{item:!0,xs:12,md:6,children:[Object(I.jsxs)(v.a,{sx:{mb:1},children:[Object(I.jsx)(g.a,{title:"Th\xf4ng tin b\u1ed9 s\u01b0u t\u1eadp"}),Object(I.jsx)(y.a,{children:Object(I.jsxs)(k.a,{spacing:1,children:[Object(I.jsx)(S.g,{name:"name",label:"T\xean b\u1ed9 s\u01b0u t\u1eadp"}),Object(I.jsxs)("div",{children:[Object(I.jsx)(H,{children:"M\xf4 t\u1ea3 b\u1ed9 s\u01b0u t\u1eadp n\xe0y"}),Object(I.jsx)(S.c,{simple:!0,name:"description"})]})]})})]}),e&&Object(I.jsx)(w.a,{severity:"info",children:"Ngo\xe0i c\xe1ch th\xeam th\u1ee7 c\xf4ng n\xe0y, b\u1ea1n c\xf3 th\u1ec3 th\xeam b\u1eb1ng c\xe1ch v\xe0o trang ri\xeang c\u1ee7a m\u1ed9t b\u1ed9 b\u1ea5t k\u1ef3."}),Object(I.jsx)(M,{titles:_.titles,handleDragEnd:function(t){if(t.destination){var e=U(_.titles,t.source.index,t.destination.index);R("titles",e)}},handleRemoveButtonClick:function(t){R("titles",_.titles.filter((function(e){return e.id!==t})))}})]}),Object(I.jsxs)(f.a,{item:!0,xs:12,md:6,children:[Object(I.jsxs)(v.a,{sx:{mb:2},children:[Object(I.jsx)(g.a,{title:"T\xecm ki\u1ebfm trong th\u01b0 vi\u1ec7n"}),Object(I.jsx)(y.a,{children:Object(I.jsx)(A,{handleAddButtonClick:function(t){R("titles",Object(j.uniqBy)([].concat(Object(c.a)(_.titles),Object(c.a)(t)),"id"))}})})]}),Object(I.jsx)(m.a,{fullWidth:!0,size:"large",type:"submit",variant:"contained",loading:q,children:"L\u01b0u l\u1ea1i"})]})]})})}var U=function(t,e,n){var c=Array.from(t),i=c.splice(e,1),r=Object(a.a)(i,1)[0];return c.splice(n,0,r),c}},1351:function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return O}));var a=n(6),c=n(13),i=n(5),r=n.n(i),o=n(1),s=n(34),l=n(1207),d=n(60),u=n(210),b=n(363),j=n(364),p=n(1238),h=n(0);function O(){var t=Object(d.a)().themeStretch,e=Object(u.a)(),n=Object(o.useState)(),i=Object(c.a)(n,2),O=i[0],m=i[1],x=Object(s.h)().id,f=Object(o.useCallback)(Object(a.a)(r.a.mark((function t(){var n,a;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,j.a.get("/v1/lists/".concat(x));case 3:n=t.sent,a=n.data,e.current&&m(a),t.next=10;break;case 8:t.prev=8,t.t0=t.catch(0);case 10:case"end":return t.stop()}}),t,null,[[0,8]])}))),[e]);return Object(o.useEffect)((function(){f()}),[f]),Object(h.jsx)(b.a,{title:"S\u1eeda b\u1ed9 s\u01b0u t\u1eadp",children:Object(h.jsx)(l.a,{maxWidth:!t&&"xl",children:Object(h.jsx)(p.a,{isEdit:!0,currentList:O})})})}}}]);
//# sourceMappingURL=15.9e3b7ef9.chunk.js.map